{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Robert\\\\Desktop\\\\shenenigans\\\\pinmap\\\\pinmap\\\\client\\\\src\\\\LocationEntry.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LocationEntry({\n  pin,\n  refreshPins\n}) {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [newName, setNewName] = useState(pin.name);\n  const [loading, setLoading] = useState(false);\n  const handleEditToggle = () => {\n    setIsEditing(prev => !prev);\n    setNewName(pin.name);\n  };\n  const handleSave = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newName\n        })\n      });\n      if (!res.ok) throw new Error('Failed to update pin');\n      refreshPins();\n      setIsEditing(false);\n    } catch (err) {\n      console.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\n        method: 'DELETE'\n      });\n      if (!res.ok) throw new Error('Failed to delete pin');\n      refreshPins();\n    } catch (err) {\n      console.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-entry\",\n    children: [isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: newName,\n      onChange: e => setNewName(e.target.value),\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: pin.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Coordinates: \", pin.loc.coordinates[1], \", \", pin.loc.coordinates[0]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Creation date: \", new Date(pin.creationTime).toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: loading,\n        children: \"Zapisz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEditToggle,\n        disabled: loading,\n        children: \"Anuluj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEditToggle,\n      children: \"Edytuj\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      disabled: loading,\n      children: \"Usu\\u0144\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 9\n  }, this);\n}\n_s(LocationEntry, \"dirtbTSsJEFnHUig41ReX+42rLg=\");\n_c = LocationEntry;\nexport default LocationEntry;\nvar _c;\n$RefreshReg$(_c, \"LocationEntry\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","LocationEntry","pin","refreshPins","_s","isEditing","setIsEditing","newName","setNewName","name","loading","setLoading","handleEditToggle","prev","handleSave","res","fetch","process","env","REACT_APP_SERVER_API_URL","_id","method","headers","body","JSON","stringify","ok","Error","err","console","error","message","handleDelete","className","children","type","value","onChange","e","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","loc","coordinates","Date","creationTime","toLocaleString","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Robert/Desktop/shenenigans/pinmap/pinmap/client/src/LocationEntry.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nfunction LocationEntry({ pin, refreshPins }) {\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [newName, setNewName] = useState(pin.name);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleEditToggle = () => {\r\n        setIsEditing((prev) => !prev);\r\n        setNewName(pin.name);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ name: newName }),\r\n            });\r\n\r\n            if (!res.ok) throw new Error('Failed to update pin');\r\n            refreshPins();\r\n            setIsEditing(false);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (!res.ok) throw new Error('Failed to delete pin');\r\n            refreshPins();\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"location-entry\">\r\n            {isEditing ? (\r\n                <input\r\n                    type=\"text\"\r\n                    value={newName}\r\n                    onChange={(e) => setNewName(e.target.value)}\r\n                    disabled={loading}\r\n                />\r\n            ) : (\r\n                <h2>{pin.name}</h2>\r\n            )}\r\n\r\n            <p>Coordinates: {pin.loc.coordinates[1]}, {pin.loc.coordinates[0]}</p>\r\n            <p>Creation date: {new Date(pin.creationTime).toLocaleString()}</p>\r\n\r\n            {isEditing ? (\r\n                <>\r\n                    <button onClick={handleSave} disabled={loading}>Zapisz</button>\r\n                    <button onClick={handleEditToggle} disabled={loading}>Anuluj</button>\r\n                </>\r\n            ) : (\r\n                <button onClick={handleEditToggle}>Edytuj</button>\r\n            )}\r\n\r\n            <button onClick={handleDelete} disabled={loading}>Usu≈Ñ</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LocationEntry;\r\n"],"mappings":";;AAAA,SAASA,QAAQ,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA,EAAAC,QAAA,IAAAC,SAAA;AAEjC,SAASC,aAAaA,CAAC;EAAEC,GAAG;EAAEC;AAAY,CAAC,EAAE;EAAAC,EAAA;EACzC,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGV,QAAQ,CAAC,KAAK,CAAC;EACjD,MAAM,CAACW,OAAO,EAAEC,UAAU,CAAC,GAAGZ,QAAQ,CAACM,GAAG,CAACO,IAAI,CAAC;EAChD,MAAM,CAACC,OAAO,EAAEC,UAAU,CAAC,GAAGf,QAAQ,CAAC,KAAK,CAAC;EAE7C,MAAMgB,gBAAgB,GAAGA,CAAA,KAAM;IAC3BN,YAAY,CAAEO,IAAI,IAAK,CAACA,IAAI,CAAC;IAC7BL,UAAU,CAACN,GAAG,CAACO,IAAI,CAAC;EACxB,CAAC;EAED,MAAMK,UAAU,GAAG,MAAAA,CAAA,KAAY;IAC3BH,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,QAAQjB,GAAG,CAACkB,GAAG,EAAE,EAAE;QAC9EC,MAAM,EAAE,KAAK;QACbC,OAAO,EAAE;UAAE,cAAc,EAAE;QAAmB,CAAC;QAC/CC,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;UAAEhB,IAAI,EAAEF;QAAQ,CAAC;MAC1C,CAAC,CAAC;MAEF,IAAI,CAACQ,GAAG,CAACW,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACpDxB,WAAW,CAAC,CAAC;MACbG,YAAY,CAAC,KAAK,CAAC;IACvB,CAAC,CAAC,OAAOsB,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;IAC9B,CAAC,SAAS;MACNpB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,MAAMqB,YAAY,GAAG,MAAAA,CAAA,KAAY;IAC7BrB,UAAU,CAAC,IAAI,CAAC;IAChB,IAAI;MACA,MAAMI,GAAG,GAAG,MAAMC,KAAK,CAAC,GAAGC,OAAO,CAACC,GAAG,CAACC,wBAAwB,QAAQjB,GAAG,CAACkB,GAAG,EAAE,EAAE;QAC9EC,MAAM,EAAE;MACZ,CAAC,CAAC;MAEF,IAAI,CAACN,GAAG,CAACW,EAAE,EAAE,MAAM,IAAIC,KAAK,CAAC,sBAAsB,CAAC;MACpDxB,WAAW,CAAC,CAAC;IACjB,CAAC,CAAC,OAAOyB,GAAG,EAAE;MACVC,OAAO,CAACC,KAAK,CAACF,GAAG,CAACG,OAAO,CAAC;IAC9B,CAAC,SAAS;MACNpB,UAAU,CAAC,KAAK,CAAC;IACrB;EACJ,CAAC;EAED,oBACIb,OAAA;IAAKmC,SAAS,EAAC,gBAAgB;IAAAC,QAAA,GAC1B7B,SAAS,gBACNP,OAAA;MACIqC,IAAI,EAAC,MAAM;MACXC,KAAK,EAAE7B,OAAQ;MACf8B,QAAQ,EAAGC,CAAC,IAAK9B,UAAU,CAAC8B,CAAC,CAACC,MAAM,CAACH,KAAK,CAAE;MAC5CI,QAAQ,EAAE9B;IAAQ;MAAA+B,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACrB,CAAC,gBAEF9C,OAAA;MAAAoC,QAAA,EAAKhC,GAAG,CAACO;IAAI;MAAAgC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CACrB,eAED9C,OAAA;MAAAoC,QAAA,GAAG,eAAa,EAAChC,GAAG,CAAC2C,GAAG,CAACC,WAAW,CAAC,CAAC,CAAC,EAAC,IAAE,EAAC5C,GAAG,CAAC2C,GAAG,CAACC,WAAW,CAAC,CAAC,CAAC;IAAA;MAAAL,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,eACtE9C,OAAA;MAAAoC,QAAA,GAAG,iBAAe,EAAC,IAAIa,IAAI,CAAC7C,GAAG,CAAC8C,YAAY,CAAC,CAACC,cAAc,CAAC,CAAC;IAAA;MAAAR,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI,CAAC,EAElEvC,SAAS,gBACNP,OAAA,CAAAE,SAAA;MAAAkC,QAAA,gBACIpC,OAAA;QAAQoD,OAAO,EAAEpC,UAAW;QAAC0B,QAAQ,EAAE9B,OAAQ;QAAAwB,QAAA,EAAC;MAAM;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC,eAC/D9C,OAAA;QAAQoD,OAAO,EAAEtC,gBAAiB;QAAC4B,QAAQ,EAAE9B,OAAQ;QAAAwB,QAAA,EAAC;MAAM;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAQ,CAAC;IAAA,eACvE,CAAC,gBAEH9C,OAAA;MAAQoD,OAAO,EAAEtC,gBAAiB;MAAAsB,QAAA,EAAC;IAAM;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CACpD,eAED9C,OAAA;MAAQoD,OAAO,EAAElB,YAAa;MAACQ,QAAQ,EAAE9B,OAAQ;MAAAwB,QAAA,EAAC;IAAI;MAAAO,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAC9D,CAAC;AAEd;AAACxC,EAAA,CAzEQH,aAAa;AAAAkD,EAAA,GAAblD,aAAa;AA2EtB,eAAeA,aAAa;AAAC,IAAAkD,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}