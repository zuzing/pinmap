{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Robert\\\\Desktop\\\\shenenigans\\\\pinmap\\\\pinmap\\\\client\\\\src\\\\LocationEntry.js\",\n  _s = $RefreshSig$();\nimport { useState } from 'react';\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction LocationEntry({\n  pin,\n  setPins\n}) {\n  _s();\n  const [isEditing, setIsEditing] = useState(false);\n  const [newName, setNewName] = useState(pin.name);\n  const [loading, setLoading] = useState(false);\n  const handleEditToggle = () => {\n    setIsEditing(prev => !prev);\n    setNewName(pin.name);\n  };\n  const handleSave = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\n        method: 'PUT',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          name: newName\n        })\n      });\n      if (!res.ok) throw new Error('Failed to update pin');\n      const updatedPin = {\n        ...pin,\n        name: newName\n      };\n      setPins(prevPins => prevPins.map(p => p._id === pin._id ? updatedPin : p));\n      setIsEditing(false);\n    } catch (err) {\n      console.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  const handleDelete = async () => {\n    setLoading(true);\n    try {\n      const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\n        method: 'DELETE'\n      });\n      if (!res.ok) throw new Error('Failed to delete pin');\n      setPins(prevPins => prevPins.filter(p => p._id !== pin._id));\n    } catch (err) {\n      console.error(err.message);\n    } finally {\n      setLoading(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"location-entry\",\n    children: [isEditing ? /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"text\",\n      value: newName,\n      onChange: e => setNewName(e.target.value),\n      disabled: loading\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: pin.name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Coordinates: \", pin.loc.coordinates[1], \", \", pin.loc.coordinates[0]]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [\"Creation date: \", new Date(pin.creationTime).toLocaleString()]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 13\n    }, this), isEditing ? /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleSave,\n        disabled: loading,\n        children: \"Zapisz\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: handleEditToggle,\n        disabled: loading,\n        children: \"Anuluj\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true) : /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleEditToggle,\n      children: \"Edytuj\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: handleDelete,\n      disabled: loading,\n      children: \"Usu\\u0144\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 78,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 9\n  }, this);\n}\n_s(LocationEntry, \"dirtbTSsJEFnHUig41ReX+42rLg=\");\n_c = LocationEntry;\nexport default LocationEntry;\nvar _c;\n$RefreshReg$(_c, \"LocationEntry\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","Fragment","_Fragment","LocationEntry","pin","setPins","_s","isEditing","setIsEditing","newName","setNewName","name","loading","setLoading","handleEditToggle","prev","handleSave","res","fetch","process","env","REACT_APP_SERVER_API_URL","_id","method","headers","body","JSON","stringify","ok","Error","updatedPin","prevPins","map","p","err","console","error","message","handleDelete","filter","className","children","type","value","onChange","e","target","disabled","fileName","_jsxFileName","lineNumber","columnNumber","loc","coordinates","Date","creationTime","toLocaleString","onClick","_c","$RefreshReg$"],"sources":["C:/Users/Robert/Desktop/shenenigans/pinmap/pinmap/client/src/LocationEntry.js"],"sourcesContent":["import { useState } from 'react';\r\n\r\nfunction LocationEntry({ pin, setPins }) {\r\n    const [isEditing, setIsEditing] = useState(false);\r\n    const [newName, setNewName] = useState(pin.name);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const handleEditToggle = () => {\r\n        setIsEditing((prev) => !prev);\r\n        setNewName(pin.name);\r\n    };\r\n\r\n    const handleSave = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\r\n                method: 'PUT',\r\n                headers: { 'Content-Type': 'application/json' },\r\n                body: JSON.stringify({ name: newName }),\r\n            });\r\n\r\n            if (!res.ok) throw new Error('Failed to update pin');\r\n\r\n            const updatedPin = { ...pin, name: newName };\r\n            setPins((prevPins) =>\r\n                prevPins.map((p) => (p._id === pin._id ? updatedPin : p))\r\n            );\r\n            setIsEditing(false);\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    const handleDelete = async () => {\r\n        setLoading(true);\r\n        try {\r\n            const res = await fetch(`${process.env.REACT_APP_SERVER_API_URL}/pin/${pin._id}`, {\r\n                method: 'DELETE',\r\n            });\r\n\r\n            if (!res.ok) throw new Error('Failed to delete pin');\r\n\r\n            setPins((prevPins) => prevPins.filter((p) => p._id !== pin._id));\r\n        } catch (err) {\r\n            console.error(err.message);\r\n        } finally {\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div className=\"location-entry\">\r\n            {isEditing ? (\r\n                <input\r\n                    type=\"text\"\r\n                    value={newName}\r\n                    onChange={(e) => setNewName(e.target.value)}\r\n                    disabled={loading}\r\n                />\r\n            ) : (\r\n                <h2>{pin.name}</h2>\r\n            )}\r\n\r\n            <p>Coordinates: {pin.loc.coordinates[1]}, {pin.loc.coordinates[0]}</p>\r\n            <p>Creation date: {new Date(pin.creationTime).toLocaleString()}</p>\r\n\r\n            {isEditing ? (\r\n                <>\r\n                    <button onClick={handleSave} disabled={loading}>Zapisz</button>\r\n                    <button onClick={handleEditToggle} disabled={loading}>Anuluj</button>\r\n                </>\r\n            ) : (\r\n                <button onClick={handleEditToggle}>Edytuj</button>\r\n            )}\r\n\r\n            <button onClick={handleDelete} disabled={loading}>Usu≈Ñ</button>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default LocationEntry;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}